# Cluster analysis

This repository is a collection of image analysis tools for quantifying the
distribution, dynamics, and stoichiometry of molecular clusters.

Most of the analysis code is written in Python, but the project also includes
short ImageJ scripts and CellProfiler pipelines to handle the first few steps of
image processing.

Below is the ever-growing list of functionality available in the project:

1) Parsing the output xml files of the excellent ImageJ plugin TrackMate
(https://github.com/fiji/TrackMate) output xml files and reorganize the data
into track-based lists of spot coordinates (provided the tracks don't branch).
This is useful, e.g., for diffusion analysis.

2) Custom MSD analysis on particle trajectories, e.g. grouping particles by
intensity or radius to see how their movement changes in response to these properties.

3) Automated FRAP analysis on small diffusing spots with local background
correction.

4) General FRAP analysis.

5) Plotting the distribution of clusters per cell in high-content imaging
experiments. This makes heavy use of the free and open source CellProfiler suite
(https://cellprofiler.org/)

### Software versions used
The code has been explicitly tested with the software versions indicated below.
Small code modifications may or may not be required to run it on your machine if
your software versions differ from the ones listed here.

Operating systems: tested on macOS High Sierra and MS Windows 10.
- Python: Version 3.5.6 (Anaconda dist.). https://www.anaconda.com/distribution/
- Seaborn (for data visualization): Version 0.9.0. https://seaborn.pydata.org/
- CellProfiler: Version 3.1.8. https://cellprofiler.org/
- ImageJ: Version 1.52p (Fiji distribution). https://fiji.sc/
- TrackMate ImageJ plugin: Version 4.0.1. https://imagej.net/TrackMate/


### Project organization
The repository is organized into the following top-level folders:
1) cellprofiler_pipelines (containing all CellProfiler config files)
2) data (all source data, in 'raw' and 'processed' subfolders)
3) imagej_scripts (all ImageJ macros and scripts)
4) notebooks (all Jupyter [IPython] notebooks)
5) reports (all output figures generated by the Jupyter notebooks)
6) src (source Python files for frequently used analysis functions)


### Notes
- The script "plotting_settings.py" in the "src" folder is called at the
beginning of each Jupyter notebook to set plot styles to be uniform across the
notebooks. Feel free to make changes to this file to modify all your plots in a
consistent manner.
- I have attempted to make the code reasonably well-documented and organized. It
is my hope that a basic working knowledge of Python and Pandas (which is
included in the Anaconda distribution) will allow you to quickly start making
changes to make the analysis fit your specific needs.
- If you find errors in the code or write additional code that you think would
be useful to contribute to this repository, either raise an issue on Github or
contact me on the Image.sc forum (https://forum.image.sc/). I will do my best to
respond as quickly as possible. My username on both resources is "TheTrappist".

Thank you, and hope this helps!
Vladislav (Vlad) Belyy
